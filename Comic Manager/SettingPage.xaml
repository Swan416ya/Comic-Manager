<Page
    x:Class="Comic_Manager.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <!-- 页面内容容器 -->
    <StackPanel Spacing="24" Padding="40,30,40,40" MaxWidth="800" HorizontalAlignment="Left">

        <!-- 大标题 -->
        <TextBlock Text="设置" Style="{StaticResource TitleTextBlockStyle}"/>

        <!-- === 1. 个性化设置 === -->
        <StackPanel Spacing="10">
            <TextBlock Text="个性化" Style="{StaticResource SubtitleTextBlockStyle}"/>

            <!-- 卡片式背景容器 -->
            <StackPanel Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" 
                        Padding="16" 
                        CornerRadius="8">

                <TextBlock Text="应用主题" FontWeight="SemiBold" Margin="0,0,0,8"/>

                <!-- 主题选择下拉框 -->
                <!-- SelectionChanged: 当用户改变选项时触发 C# 代码 -->
                <ComboBox x:Name="ThemeComboBox" 
                          Width="200" 
                          SelectionChanged="OnThemeChanged">
                    <ComboBoxItem Content="跟随系统" Tag="Default"/>
                    <ComboBoxItem Content="浅色模式" Tag="Light"/>
                    <ComboBoxItem Content="深色模式" Tag="Dark"/>
                </ComboBox>

                <TextBlock Text="切换主题后可能需要重启应用以生效部分效果（视WinUI版本而定）。" 
                           FontSize="12" 
                           Opacity="0.6" 
                           Margin="0,8,0,0"/>
            </StackPanel>
        </StackPanel>

        <!-- === 2. 关于作者 === -->
        <StackPanel Spacing="10">
            <TextBlock Text="关于" Style="{StaticResource SubtitleTextBlockStyle}"/>

            <StackPanel Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1" 
                        Padding="16" 
                        CornerRadius="8">

                <StackPanel Orientation="Horizontal" Spacing="16" VerticalAlignment="Center">
                    <!-- 作者头像或图标 -->
                    <FontIcon Glyph="&#xE77B;" FontFamily="Segoe Fluent Icons" FontSize="32"/>

                    <StackPanel>
                        <TextBlock Text="Comic Manager" FontWeight="Bold"/>
                        <TextBlock Text="Made by Swan416ya" Opacity="0.8"/>

                        <!-- GitHub 链接按钮 -->
                        <HyperlinkButton Content="访问我的 GitHub 主页" 
                                         Click="OnGithubLinkClick"
                                         Margin="-12,4,0,0"/>
                    </StackPanel>
                </StackPanel>

            </StackPanel>
        </StackPanel>

    </StackPanel>
</Page>